
Kit: Utilities for Salesforce CLI development
=============================================

What is this?
-------------

A collection of commonly needed utilities used by the Salesforce CLI and the libraries it is built on. It includes high level support for parsing and working with JSON data, interacting with environment variables, a common error base type, a minimal lodash replacement, and support for commonly needed design patterns, among other things.

See the API documentation for more details on each of the utilities that `kit` provides.

References
----------

This library depends upon another Salesforce TypeScript library, [@salesforce/ts-types](https://www.npmjs.com/package/@salesforce/ts-types). The API documentation for this library refers to several types that you will find in `ts-types`. Some `lodash` replacement functions are also found in `ts-types`.

## Index

### Classes

* [AsyncCreatable](classes/asynccreatable.md)
* [Env](classes/env.md)
* [InvalidDefaultEnvValueError](classes/invaliddefaultenvvalueerror.md)
* [JsonDataFormatError](classes/jsondataformaterror.md)
* [JsonParseError](classes/jsonparseerror.md)
* [JsonStringifyError](classes/jsonstringifyerror.md)
* [NamedError](classes/namederror.md)

### Type aliases

* [NamedErrorLike](#namederrorlike)

### Variables

* [env](#env)

### Functions

* [cloneJson](#clonejson)
* [defaults](#defaults)
* [findKey](#findkey)
* [get](#get)
* [getJsonValuesByName](#getjsonvaluesbyname)
* [isEmpty](#isempty)
* [keyBy](#keyby)
* [lowerFirst](#lowerfirst)
* [mapKeys](#mapkeys)
* [maxBy](#maxby)
* [merge](#merge)
* [minBy](#minby)
* [omit](#omit)
* [once](#once)
* [parseJson](#parsejson)
* [parseJsonMap](#parsejsonmap)
* [set](#set)
* [snakeCase](#snakecase)
* [sortBy](#sortby)
* [upperFirst](#upperfirst)

---

## Type aliases

<a id="namederrorlike"></a>

###  NamedErrorLike

**Ƭ NamedErrorLike**: * `Error` & `object`
*

*Defined in errors.ts:11*

Any `Error` compatible with the `NamedError` type signature.

___

## Variables

<a id="env"></a>

### `<Const>` env

**● env**: *[Env](classes/env.md)* =  new Env()

*Defined in env.ts:244*

The default `Env` instance, which wraps `process.env`.

___

## Functions

<a id="clonejson"></a>

###  cloneJson

▸ **cloneJson**<`T`>(obj: *`T`*): `T`

*Defined in json.ts:57*

Perform a deep clone of an object or array compatible with JSON stringification. Object fields that are not compatible with stringification will be omitted. Array entries that are not compatible with stringification will be censored as `null`.
*__throws__*: [JsonStringifyError](classes/jsonstringifyerror.md) If the object contains circular references or causes other JSON stringification errors.

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| obj | `T` |  A JSON-compatible object or array to clone. |

**Returns:** `T`

___
<a id="defaults"></a>

###  defaults

▸ **defaults**<`T`,`S`>(obj: *`T`*, source: *`S`*):  `S` & `T`

▸ **defaults**<`T`,`S1`,`S2`>(obj: *`T`*, source1: *`S1`*, source2: *`S2`*):  `S2` & `S1` & `T`

▸ **defaults**<`T`,`S1`,`S2`,`S3`>(obj: *`T`*, source1: *`S1`*, source2: *`S2`*, source3: *`S3`*):  `S3` & `S2` & `S1` & `T`

▸ **defaults**<`T`,`S1`,`S2`,`S3`,`S4`>(obj: *`T`*, source1: *`S1`*, source2: *`S2`*, source3: *`S3`*, source4: *`S4`*):  `S4` & `S3` & `S2` & `S1` & `T`

▸ **defaults**<`T`>(obj: *`T`*): `T`

*Defined in nodash/external.ts:35*

Assigns own enumerable properties of source object(s) to the destination object for all destination properties that resolve to undefined. Once a property is set, additional values of the same property are ignored.

Note: This method mutates `obj`.

**Type parameters:**

#### T 
#### S 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| obj | `T` |  The destination object. |
| source | `S` |

**Returns:**  `S` & `T`

*Defined in nodash/external.ts:39*

*__see__*: defaults

**Type parameters:**

#### T 
#### S1 
#### S2 
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj | `T` |
| source1 | `S1` |
| source2 | `S2` |

**Returns:**  `S2` & `S1` & `T`

*Defined in nodash/external.ts:43*

*__see__*: defaults

**Type parameters:**

#### T 
#### S1 
#### S2 
#### S3 
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj | `T` |
| source1 | `S1` |
| source2 | `S2` |
| source3 | `S3` |

**Returns:**  `S3` & `S2` & `S1` & `T`

*Defined in nodash/external.ts:47*

*__see__*: defaults

**Type parameters:**

#### T 
#### S1 
#### S2 
#### S3 
#### S4 
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj | `T` |
| source1 | `S1` |
| source2 | `S2` |
| source3 | `S3` |
| source4 | `S4` |

**Returns:**  `S4` & `S3` & `S2` & `S1` & `T`

*Defined in nodash/external.ts:51*

*__see__*: defaults

**Type parameters:**

#### T 
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj | `T` |

**Returns:** `T`

___
<a id="findkey"></a>

###  findKey

▸ **findKey**<`T`>(obj: * `T` &#124; `null` &#124; `undefined`*, predicate?: *`ObjectIteratee`<`T`>*): `Optional`<`string`>

*Defined in nodash/external.ts:64*

This method is like `find` except that it returns the key of the first element predicate returns truthy for instead of the element itself.

**Type parameters:**

#### T 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| obj |  `T` &#124; `null` &#124; `undefined`|  The object to search. |
| `Optional` predicate | `ObjectIteratee`<`T`> |  The function invoked per iteration. |

**Returns:** `Optional`<`string`>

___
<a id="get"></a>

###  get

▸ **get**<`T`>(obj: * `T` &#124; `null` &#124; `undefined`*, path: *`string`*): `any`

▸ **get**<`T`,`D`>(obj: * `T` &#124; `null` &#124; `undefined`*, path: *`string`*, def: *`D`*):  `any` &#124; `D`

*Defined in nodash/external.ts:79*

Gets the property value at path of object. If the resolved value is undefined the defaultValue is used in its place.

When possible, prefer using the `get*` utilities provided by [@salesforce/ts-types](https://www.npmjs.com/package/@salesforce/ts-types);

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| obj |  `T` &#124; `null` &#124; `undefined`|  The object to query. |
| path | `string` |  The path of the property to get. |

**Returns:** `any`

*Defined in nodash/external.ts:83*

*__see__*: get

**Type parameters:**

#### T :  `any`
#### D 
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj |  `T` &#124; `null` &#124; `undefined`|
| path | `string` |
| def | `D` |

**Returns:**  `any` &#124; `D`

___
<a id="getjsonvaluesbyname"></a>

###  getJsonValuesByName

▸ **getJsonValuesByName**<`T`>(json: *`JsonMap`*, name: *`string`*): `T`[]

*Defined in json.ts:74*

Finds all elements of type `T` with a given name in a `JsonMap`. Not suitable for use with object graphs containing circular references. The specification of an appropriate type `T` that will satisfy all matching element values is the responsibility of the caller.

**Type parameters:**

#### T :  `AnyJson`
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| json | `JsonMap` |  The \`JsonMap\` tree to search for elements of the given name. |
| name | `string` |  The name of elements to search for. |

**Returns:** `T`[]
An array of matching elements.

___
<a id="isempty"></a>

###  isEmpty

▸ **isEmpty**(value?: *`any`*): `boolean`

*Defined in nodash/internal.ts:16*

Checks if value is empty. A value is considered empty unless it’s an arguments object, array, string, or jQuery-like collection with a length greater than 0 or an object with own enumerable properties.

**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| `Optional` value | `any` |  The value to inspect. |

**Returns:** `boolean`

___
<a id="keyby"></a>

###  keyBy

▸ **keyBy**<`T`>(collection: * `ArrayLike`<`T`> &#124; `null` &#124; `undefined`*, iteratee?: *`ValueIterateeCustom`<`T`, `PropertyKey`>*): `Dictionary`<`T`>

▸ **keyBy**<`T`>(collection: * `T` &#124; `null` &#124; `undefined`*, iteratee?: *`ValueIterateeCustom`<`T[keyof T]`, `PropertyKey`>*): `Dictionary`<`T[keyof T]`>

*Defined in nodash/external.ts:97*

Creates an object composed of keys generated from the results of running each element of collection through iteratee. The corresponding value of each key is the last element responsible for generating the key. The iteratee function is invoked with one argument: (value).

**Type parameters:**

#### T 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| collection |  `ArrayLike`<`T`> &#124; `null` &#124; `undefined`|  The collection to iterate over. |
| `Optional` iteratee | `ValueIterateeCustom`<`T`, `PropertyKey`> |  The function invoked per iteration. |

**Returns:** `Dictionary`<`T`>

*Defined in nodash/external.ts:101*

*__see__*: keyBy

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type |
| ------ | ------ |
| collection |  `T` &#124; `null` &#124; `undefined`|
| `Optional` iteratee | `ValueIterateeCustom`<`T[keyof T]`, `PropertyKey`> |

**Returns:** `Dictionary`<`T[keyof T]`>

___
<a id="lowerfirst"></a>

###  lowerFirst

▸ **lowerFirst**(value: *`string`*): `string`

▸ **lowerFirst**(value?: * `undefined` &#124; `string`*): `Optional`<`string`>

*Defined in nodash/internal.ts:31*

Converts the first character of `string` to lower case.

**Parameters:**

| Param | Type |
| ------ | ------ |
| value | `string` |

**Returns:** `string`

*Defined in nodash/internal.ts:35*

*__see__*: lowerFirst

**Parameters:**

| Param | Type |
| ------ | ------ |
| `Optional` value |  `undefined` &#124; `string`|

**Returns:** `Optional`<`string`>

___
<a id="mapkeys"></a>

###  mapKeys

▸ **mapKeys**<`T`>(object: * `ArrayLike`<`T`> &#124; `null` &#124; `undefined`*, iteratee?: *`ListIteratee`<`T`>*): `Dictionary`<`T`>

▸ **mapKeys**<`T`>(object: * `T` &#124; `null` &#124; `undefined`*, iteratee?: *`ObjectIteratee`<`T`>*): `Dictionary`<`T[keyof T]`>

*Defined in nodash/external.ts:114*

This method creates an object with the same values as object and keys generated by running each own enumerable property of object through iteratee.

**Type parameters:**

#### T 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| object |  `ArrayLike`<`T`> &#124; `null` &#124; `undefined`|
| `Optional` iteratee | `ListIteratee`<`T`> |  The function invoked per iteration. |

**Returns:** `Dictionary`<`T`>

*Defined in nodash/external.ts:118*

*__see__*: mapKeys

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type |
| ------ | ------ |
| object |  `T` &#124; `null` &#124; `undefined`|
| `Optional` iteratee | `ObjectIteratee`<`T`> |

**Returns:** `Dictionary`<`T[keyof T]`>

___
<a id="maxby"></a>

###  maxBy

▸ **maxBy**<`T`>(collection: * `ArrayLike`<`T`> &#124; `null` &#124; `undefined`*, iteratee?: *`ValueIteratee`<`T`>*): `Optional`<`T`>

*Defined in nodash/external.ts:144*

This method is like `_.max` except that it accepts `iteratee` which is invoked for each element in `array` to generate the criterion by which the value is ranked. The iteratee is invoked with one argument: (value).

**Type parameters:**

#### T 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| collection |  `ArrayLike`<`T`> &#124; `null` &#124; `undefined`|
| `Optional` iteratee | `ValueIteratee`<`T`> |  The iteratee invoked per element. |

**Returns:** `Optional`<`T`>

___
<a id="merge"></a>

###  merge

▸ **merge**<`T`,`S`>(object: *`T`*, source: *`S`*):  `T` & `S`

▸ **merge**<`T`,`S1`,`S2`>(object: *`T`*, source1: *`S1`*, source2: *`S2`*):  `T` & `S1` & `S2`

▸ **merge**<`T`,`S1`,`S2`,`S3`>(object: *`T`*, source1: *`S1`*, source2: *`S2`*, source3: *`S3`*):  `T` & `S1` & `S2` & `S3`

▸ **merge**<`T`,`S1`,`S2`,`S3`,`S4`>(object: *`T`*, source1: *`S1`*, source2: *`S2`*, source3: *`S3`*, source4: *`S4`*):  `T` & `S1` & `S2` & `S3` & `S4`

*Defined in nodash/external.ts:161*

Recursively merges own and inherited enumerable properties of source objects into the destination object, skipping source properties that resolve to `undefined`. Array and plain object properties are merged recursively. Other objects and value types are overridden by assignment. Source objects are applied from left to right. Subsequent sources overwrite property assignments of previous sources.

**Note:** This method mutates `object`.

**Type parameters:**

#### T 
#### S 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| object | `T` |  The destination object. |
| source | `S` |

**Returns:**  `T` & `S`

*Defined in nodash/external.ts:165*

*__see__*: merge

**Type parameters:**

#### T 
#### S1 
#### S2 
**Parameters:**

| Param | Type |
| ------ | ------ |
| object | `T` |
| source1 | `S1` |
| source2 | `S2` |

**Returns:**  `T` & `S1` & `S2`

*Defined in nodash/external.ts:169*

*__see__*: merge

**Type parameters:**

#### T 
#### S1 
#### S2 
#### S3 
**Parameters:**

| Param | Type |
| ------ | ------ |
| object | `T` |
| source1 | `S1` |
| source2 | `S2` |
| source3 | `S3` |

**Returns:**  `T` & `S1` & `S2` & `S3`

*Defined in nodash/external.ts:173*

*__see__*: merge

**Type parameters:**

#### T 
#### S1 
#### S2 
#### S3 
#### S4 
**Parameters:**

| Param | Type |
| ------ | ------ |
| object | `T` |
| source1 | `S1` |
| source2 | `S2` |
| source3 | `S3` |
| source4 | `S4` |

**Returns:**  `T` & `S1` & `S2` & `S3` & `S4`

___
<a id="minby"></a>

###  minBy

▸ **minBy**<`T`>(collection: * `ArrayLike`<`T`> &#124; `null` &#124; `undefined`*, iteratee?: *`ValueIteratee`<`T`>*): `Optional`<`T`>

*Defined in nodash/external.ts:132*

This method is like `_.min` except that it accepts `iteratee` which is invoked for each element in `array` to generate the criterion by which the value is ranked. The iteratee is invoked with one argument: (value).

**Type parameters:**

#### T 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| collection |  `ArrayLike`<`T`> &#124; `null` &#124; `undefined`|
| `Optional` iteratee | `ValueIteratee`<`T`> |  The iteratee invoked per element. |

**Returns:** `Optional`<`T`>

___
<a id="omit"></a>

###  omit

▸ **omit**<`T`>(obj: * `T` &#124; `null` &#124; `undefined`*, ...paths: *`Array`<`Many`<`PropertyKey`>>*): `T`

▸ **omit**<`T`,`K`>(obj: * `T` &#124; `null` &#124; `undefined`*, ...paths: *`Array`<`Many`<`K`>>*): `Omit`<`T`, `K`>

▸ **omit**<`T`>(obj: * `T` &#124; `null` &#124; `undefined`*, ...paths: *`Array`<`Many`<`PropertyKey`>>*): `Partial`<`T`>

*Defined in nodash/external.ts:186*

The opposite of `_.pick`; this method creates an object composed of the own and inherited enumerable properties of `object` that are not omitted.

**Type parameters:**

#### T :  `Dictionary`<`any`>
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| obj |  `T` &#124; `null` &#124; `undefined`|  The source object. |
| `Rest` paths | `Array`<`Many`<`PropertyKey`>> |  The property names to omit, specified individually or in arrays.. |

**Returns:** `T`

*Defined in nodash/external.ts:190*

*__see__*: omit

**Type parameters:**

#### T :  `any`
#### K :  `keyof T`
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj |  `T` &#124; `null` &#124; `undefined`|
| `Rest` paths | `Array`<`Many`<`K`>> |

**Returns:** `Omit`<`T`, `K`>

*Defined in nodash/external.ts:194*

*__see__*: omit

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj |  `T` &#124; `null` &#124; `undefined`|
| `Rest` paths | `Array`<`Many`<`PropertyKey`>> |

**Returns:** `Partial`<`T`>

___
<a id="once"></a>

###  once

▸ **once**<`T`>(func: *`T`*): `T`

*Defined in nodash/external.ts:206*

Creates a function that is restricted to invoking `func` once. Repeat calls to the function return the value of the first call. The `func` is invoked with the this binding and arguments of the created function.

**Type parameters:**

#### T :  `AnyFunction`
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| func | `T` |  The function to restrict. |

**Returns:** `T`

___
<a id="parsejson"></a>

###  parseJson

▸ **parseJson**(data: *`string`*, jsonPath?: * `undefined` &#124; `string`*, throwOnEmpty?: *`boolean`*): `AnyJson`

*Defined in json.ts:19*

Parse JSON `string` data.
*__throws__*: [JsonParseError](classes/jsonparseerror.md) If the data contents are empty or the data is invalid.

**Parameters:**

| Param | Type | Default value | Description |
| ------ | ------ | ------ | ------ |
| data | `string` | - |  Data to parse. |
| `Optional` jsonPath |  `undefined` &#124; `string`| - |  The file path from which the JSON was loaded. |
| `Default value` throwOnEmpty | `boolean` | true |  If the data contents are empty. |

**Returns:** `AnyJson`

___
<a id="parsejsonmap"></a>

###  parseJsonMap

▸ **parseJsonMap**(data: *`string`*, jsonPath?: * `undefined` &#124; `string`*, throwOnEmpty?: * `undefined` &#124; `false` &#124; `true`*): `JsonMap`

*Defined in json.ts:39*

Parse JSON `string` data, expecting the result to be a `JsonMap`.
*__throws__*: [JsonParseError](classes/jsonparseerror.md) If the data contents are empty or the data is invalid.

*__throws__*: [JsonDataFormatError](classes/jsondataformaterror.md) If the data contents are not a `JsonMap`.

**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| data | `string` |  Data to parse. |
| `Optional` jsonPath |  `undefined` &#124; `string`|  The file path from which the JSON was loaded. |
| `Optional` throwOnEmpty |  `undefined` &#124; `false` &#124; `true`|  If the data contents are empty. |

**Returns:** `JsonMap`

___
<a id="set"></a>

###  set

▸ **set**<`T`>(obj: *`T`*, path: *`string`*, value: *`any`*): `T`

▸ **set**<`R`>(obj: *`object`*, path: *`string`*, value: *`any`*): `R`

*Defined in nodash/external.ts:219*

Sets the value at path of object. If a portion of path doesn’t exist it’s created. Arrays are created for missing index properties while objects are created for all other missing properties. Use _.setWith to customize path creation.

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| obj | `T` |  The object to modify. |
| path | `string` |  The path of the property to set. |
| value | `any` |  The value to set. |

**Returns:** `T`

*Defined in nodash/external.ts:223*

*__see__*: set

**Type parameters:**

#### R 
**Parameters:**

| Param | Type |
| ------ | ------ |
| obj | `object` |
| path | `string` |
| value | `any` |

**Returns:** `R`

___
<a id="snakecase"></a>

###  snakeCase

▸ **snakeCase**(str: *`string`*): `string`

▸ **snakeCase**(str?: * `undefined` &#124; `string`*): `Optional`<`string`>

*Defined in nodash/internal.ts:46*

Converts string to snake case.

**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| str | `string` |  The string to convert. |

**Returns:** `string`

*Defined in nodash/internal.ts:47*

**Parameters:**

| Param | Type |
| ------ | ------ |
| `Optional` str |  `undefined` &#124; `string`|

**Returns:** `Optional`<`string`>

___
<a id="sortby"></a>

###  sortBy

▸ **sortBy**<`T`>(collection: * `ArrayLike`<`T`> &#124; `null` &#124; `undefined`*, ...iteratees: *`Array`<`Many`<`ListIteratee`<`T`>>>*): `T`[]

▸ **sortBy**<`T`>(collection: * `T` &#124; `null` &#124; `undefined`*, ...iteratees: *`Array`<`Many`<`ObjectIteratee`<`T`>>>*): `Array`<`T[keyof T]`>

*Defined in nodash/external.ts:238*

Creates an array of elements, sorted in ascending order by the results of running each element in a collection through each iteratee. This method performs a stable sort, that is, it preserves the original sort order of equal elements. The iteratees are invoked with one argument: (value).

**Type parameters:**

#### T 
**Parameters:**

| Param | Type | Description |
| ------ | ------ | ------ |
| collection |  `ArrayLike`<`T`> &#124; `null` &#124; `undefined`|  The collection to iterate over. |
| `Rest` iteratees | `Array`<`Many`<`ListIteratee`<`T`>>> |  The iteratees to sort by, specified individually or in arrays. |

**Returns:** `T`[]

*Defined in nodash/external.ts:242*

*__see__*: sortBy

**Type parameters:**

#### T :  `any`
**Parameters:**

| Param | Type |
| ------ | ------ |
| collection |  `T` &#124; `null` &#124; `undefined`|
| `Rest` iteratees | `Array`<`Many`<`ObjectIteratee`<`T`>>> |

**Returns:** `Array`<`T[keyof T]`>

___
<a id="upperfirst"></a>

###  upperFirst

▸ **upperFirst**(value: *`string`*): `string`

▸ **upperFirst**(value?: * `undefined` &#124; `string`*): `Optional`<`string`>

*Defined in nodash/internal.ts:58*

Converts the first character of `string` to upper case.

**Parameters:**

| Param | Type |
| ------ | ------ |
| value | `string` |

**Returns:** `string`

*Defined in nodash/internal.ts:62*

*__see__*: upperFirst

**Parameters:**

| Param | Type |
| ------ | ------ |
| `Optional` value |  `undefined` &#124; `string`|

**Returns:** `Optional`<`string`>

___

